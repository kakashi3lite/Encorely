// Base configuration shared across all build configurations
// Updated for 2025 standards with macOS optimizations

// App Versioning
MARKETING_VERSION = 0.9.0
CURRENT_PROJECT_VERSION = 1

// Development Team & Bundle
DEVELOPMENT_TEAM = $(DEVELOPMENT_TEAM)
PRODUCT_BUNDLE_IDENTIFIER = com.swanand.aimixtapes
PRODUCT_NAME = AI-Mixtapes

// Deployment & SDK Configuration
MACOSX_DEPLOYMENT_TARGET = 12.0
IPHONEOS_DEPLOYMENT_TARGET = 15.0
SDKROOT = macosx
SUPPORTED_PLATFORMS = macosx iphoneos iphonesimulator
TARGETED_DEVICE_FAMILY = 1,2

// Swift & Build Configuration
SWIFT_VERSION = 5.9
SWIFT_OPTIMIZATION_LEVEL = -O
SWIFT_COMPILATION_MODE = wholemodule
SWIFT_TREAT_WARNINGS_AS_ERRORS = YES
SWIFT_STRICT_CONCURRENCY = complete
ENABLE_TESTABILITY = YES

// Build Settings
CLANG_ANALYZER_NONNULL = YES
CLANG_ANALYZER_NUMBER_OBJECT_CONVERSION = YES_AGGRESSIVE
CLANG_CXX_LANGUAGE_STANDARD = gnu++20
CLANG_ENABLE_MODULES = YES
CLANG_ENABLE_OBJC_ARC = YES
CLANG_ENABLE_OBJC_WEAK = YES
CLANG_WARN_DOCUMENTATION_COMMENTS = YES
DEAD_CODE_STRIPPING = YES
DEBUG_INFORMATION_FORMAT = dwarf-with-dsym
ENABLE_STRICT_OBJC_MSGSEND = YES
GCC_OPTIMIZATION_LEVEL = s
ONLY_ACTIVE_ARCH = NO

// ML Model Configuration
COREML_CODEGEN_LANGUAGE = Swift
COREML_MODEL_OPTIMIZATION = ALL
ENABLE_ON_DEMAND_RESOURCES = YES
ENABLE_ML_TRAINING = YES

// AI Feature Configuration
ENABLE_FACE_DETECTION = 1
ENABLE_VOICE_ANALYSIS = 1
ENABLE_BACKGROUND_PROCESSING = 1
ENABLE_LOCAL_ML = 1
ML_MEMORY_BUDGET = 512 // Increased for macOS
ML_COMPUTE_UNITS = ALL // Use all available compute units on macOS

// Audio Processing
AUDIO_BUFFER_SIZE = 8192 // Increased for macOS
AUDIO_SAMPLE_RATE = 48000 // Higher quality for macOS
AUDIO_PROCESSING_QUALITY = high
ENABLE_AUDIO_GRAPH_VISUALIZATION = 1
MAX_CONCURRENT_AUDIO_STREAMS = 8 // More streams on macOS

// Performance & Memory
MEMORY_MANAGEMENT_SAFETY = 1
ENABLE_PERFORMANCE_MONITORING = 1
AI_INFERENCE_TIMEOUT = 150 // Increased for macOS
MAX_MEMORY_FOOTPRINT = 1024 // Increased for macOS
ENABLE_MEMORY_GRAPH_DEBUGGER = 1
ENABLE_METAL_ACCELERATION = 1

// Privacy & Security
FORCE_LOCAL_PROCESSING = 1
ENABLE_ENCRYPTION = 1
ENCRYPTION_KEY_SIZE = 256
ENABLE_APP_SANDBOX = 1
ENABLE_HARDENED_RUNTIME = 1

// Logging & Diagnostics
ENABLE_ERROR_REPORTING = 1
ERROR_LOG_LEVEL = 2
ENABLE_CRASH_REPORTING = 1
ENABLE_METRICS_COLLECTION = 1

// Testing & Debug
ENABLE_TESTING = 1
ENABLE_PREVIEWS = 1
ENABLE_CODE_COVERAGE = YES
GCC_GENERATE_TEST_COVERAGE_FILES = YES

// SwiftUI Configuration
ENABLE_PREVIEWS = YES
DEVELOPMENT_ASSET_PATHS = "Preview Content"
SWIFT_ACTIVE_COMPILATION_CONDITIONS = DEBUG