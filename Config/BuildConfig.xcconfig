//
//  BuildConfig.xcconfig
//  AIMixtapes
//
//  Created by Claude AI on 05/16/25.
//

// Configuration settings file format documentation can be found at:
// https://help.apple.com/xcode/#/dev745c5c974

// App Version
MARKETING_VERSION = 1.0.0
CURRENT_PROJECT_VERSION = 1

// Deployment and Platform
SUPPORTED_PLATFORMS = iphoneos iphonesimulator
SDKROOT = iphoneos
VALID_ARCHS = x86_64 arm64
IPHONEOS_DEPLOYMENT_TARGET = 15.0
TARGETED_DEVICE_FAMILY = 1,2
PRODUCT_NAME = AI-Mixtapes
PRODUCT_BUNDLE_IDENTIFIER = com.swanand.ai-mixtapes
PRODUCT_MODULE_NAME = AIMixtapes
EXECUTABLE_NAME = AI-Mixtapes

// Intent Configuration
INTENT_CODEGEN_LANGUAGE = Swift
INTENT_DEFINITION_FILE = $(SRCROOT)/Sources/App/Resources/Intents.intentdefinition
INTENT_DEFINITION_OUTPUT_DIRECTORY = $(BUILT_PRODUCTS_DIR)/IntentDefinitions
INTENT_CLASS_PREFIX = AI
INTENT_SWIFT_VERSION = 5.9
INTENT_DEFINITION_CODEGEN_MODE = disabled
INTENT_DEFINITION_TARGET = AI-Mixtapes
SWIFT_EMIT_LOC_STRINGS = YES
GENERATE_INFOPLIST_FILE = YES

// Platform-specific settings
SUPPORTED_PLATFORMS = iphoneos iphonesimulator
SDKROOT = iphoneos
ARCHS = $(ARCHS_STANDARD)
VALID_ARCHS = x86_64 arm64
ONLY_ACTIVE_ARCH = YES
SKIP_INSTALL = NO
TARGETED_DEVICE_FAMILY = 1,2

// iOS specific
CODE_SIGN_INJECT_BASE_ENTITLEMENTS = YES
REQUIRES_IPHONE_OS = YES

// Include Developer Settings
#include "DeveloperConfig.xcconfig"

// Swift settings
SWIFT_VERSION = 5.0
SWIFT_OPTIMIZATION_LEVEL = -O
SWIFT_COMPILATION_MODE = wholemodule
SWIFT_TREAT_WARNINGS_AS_ERRORS = YES

// Build settings
ENABLE_BITCODE = NO
ENABLE_TESTABILITY = YES
ENABLE_STRICT_OBJC_MSGSEND = YES
CLANG_ENABLE_MODULES = YES
CLANG_ENABLE_OBJC_ARC = YES
CLANG_WARN_DOCUMENTATION_COMMENTS = YES
CLANG_WARN_SUSPICIOUS_IMPLICIT_CONVERSION = YES

// Platform-specific settings
SUPPORTED_PLATFORMS = macosx
TARGETED_DEVICE_FAMILY = mac
SDKROOT = macosx
SUPPORTED_PLATFORMS = macosx
MACOSX_DEPLOYMENT_TARGET = 13.0
VALID_ARCHS = x86_64 arm64
TARGETED_DEVICE_FAMILY = mac
PLATFORM_NAME = macosx
PLATFORM_FAMILY_NAME = macosx
ARCHS = $(ARCHS_STANDARD)
ONLY_ACTIVE_ARCH = YES
COMBINE_HIDPI_IMAGES = YES
ENABLE_HARDENED_RUNTIME = YES
SKIP_INSTALL = NO

// macOS-specific settings
MACOSX_DEPLOYMENT_TARGET = 12.0
LSMinimumSystemVersion = $(MACOSX_DEPLOYMENT_TARGET)

// macOS capabilities
ENABLE_APP_SANDBOX = YES
ENABLE_USER_SELECTED_FILES = read-write
CODE_SIGN_ENTITLEMENTS = AI-Mixtapes.entitlements
SWIFT_OPTIMIZATION_LEVEL = -O
OTHER_SWIFT_FLAGS = -Xfrontend -warn-long-function-bodies=100

// Usage descriptions
INFOPLIST_KEY_NSMicrophoneUsageDescription = "AI-Mixtapes needs access to your microphone for voice commands."
INFOPLIST_KEY_NSSiriUsageDescription = "AI-Mixtapes uses Siri for voice control of your music."
INFOPLIST_KEY_NSAppleEventsUsageDescription = "AI-Mixtapes needs to control music playback."
INFOPLIST_KEY_NSAppleMusicUsageDescription = "AI-Mixtapes needs access to your music library to create mixtapes."

// Performance optimizations
LLVM_LTO = YES
GCC_OPTIMIZATION_LEVEL = 3
SWIFT_ENFORCE_EXCLUSIVE_ACCESS = on-competing-access
ENABLE_PREVIEWS = NO

// Memory management
SWIFT_MEMORY_MANAGEMENT = rc
SWIFT_DETERMINISTIC_MEMORY = YES

// Asset compilation
ASSETCATALOG_COMPILER_OPTIMIZATION = space
ASSETCATALOG_COMPILER_APPICON_NAME = AppIcon
COMPRESS_PNG_FILES = YES
STRIP_PNG_TEXT = YES

// Platform-specific settings
SUPPORTED_PLATFORMS = macosx
SDKROOT = macosx
MACOSX_DEPLOYMENT_TARGET = 12.0

// Intent handling
INTENT_CODEGEN_LANGUAGE = Swift
INTENT_DEFINITION_FILE_PATH = $(SRCROOT)/Sources/App/Resources/Intents.intentdefinition
INTENT_DEFINITION_OUTPUT_DIRECTORY = $(TEMP_DIR)/IntentDefinitionGenerated
INTENT_CLASS_PREFIX = AI
INTENT_SWIFT_VERSION = 5.9

// Build paths
CONFIGURATION_BUILD_DIR = $(PROJECT_DIR)/build/$(CONFIGURATION)$(EFFECTIVE_PLATFORM_NAME)
BUILT_PRODUCTS_DIR = $(PROJECT_DIR)/build/$(CONFIGURATION)$(EFFECTIVE_PLATFORM_NAME)

// Signing and sandbox
CODE_SIGN_ENTITLEMENTS = AI-Mixtapes.entitlements
ENABLE_HARDENED_RUNTIME = YES
CODE_SIGN_IDENTITY = -
CODE_SIGNING_REQUIRED = NO
CODE_SIGNING_ALLOWED = NO
